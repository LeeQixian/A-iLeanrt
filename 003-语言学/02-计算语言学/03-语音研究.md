## 一、 语音处理概述 (Speech Processing)
计算语言学不仅处理文字，也处理语音。语音技术已从实验室走向社会应用，造福人类。
### 1. 主要分支
*   **语音合成 (Speech Synthesis / Text-to-Speech, TTS)**：
    *   **定义**：将文本（Text）转换为语音（Speech）。
    *   **应用**：帮助盲人阅读（如读《红楼梦》）、GPS车载导航（减少司机视觉干扰，提升安全性）。
*   **语音识别 (Automatic Speech Recognition, ASR)**：
    *   **定义**：让机器“听懂”人的话，将语音转换为文本。
    *   **应用**：手机语音拨号、听写输入。
*   **其他分支**：
    *   **说话人识别 (Speaker Recognition/Identification)**：识别“是谁在说话”（用于身份验证、安防），而非识别说了什么内容。
## 二、 语音研究的历史发展

### 1. 古代与近代语音学基础
*   **古印度**：最早提出发音部位和发音方法的概念，区分浊音与清音。
*   **古希腊**：继承了古印度的语音学思想。
*   **Henry Sweet (亨利·斯威特)**：
    *   **贡献**：1877年出版《语音学手册》(Handbook of Phonetics)。
    *   **理论**：区分了**宽式标音 (Broad Transcription)** 和 **严式标音 (Narrow Transcription)**。
    *   **影响**：他是国际音标 (IPA) 的奠基人之一。萧伯纳《卖花女》（Pygmalion）中的教授原型（虽然在文学作品中形象有时被刻画为怪人，但实际上是伟大的语言学家）。

### 2. 语音合成的发展史 (History of Synthesis)
*   **机械合成时代**：
    *   **Wolfgang von Kempelen (冯·肯佩伦)**：
        *   **轶事**：曾制作著名的“土耳其行棋傀儡”（Mechanical Turk，实际是有人藏在里面的伪自动机）。
        *   **真正贡献**：制作了最早的**机械说话机器 (Speaking Machine)**。利用风箱模拟肺，模拟声带、口腔、鼻腔及舌头动作，能发出元音和辅音。
    *   **Joseph Faber**：设计了名为 "Euphonia" 的说话机器（录音中提及1937年的Lish/Riesz可能指声道模型相关研究，此处强调早期的机械模拟口腔结构）。
*   **电子/机电合成时代**：
    *   **Homer Dudley & The Voder (1939)**：
        *   贝尔实验室研发，在纽约世博会展示。
        *   **原理**：电子合成，由操作员通过键盘和踏板控制电子滤波器来模拟语音。
        *   **演示**："Good evening, radio audience"（根据地区切换问候语）。
    *   **Haskins Laboratories (哈斯金斯实验室)**：
        *   **Pattern Playback**：将声谱图（Spectrogram/Spectrum）转换回声音。将光信号通过声谱图反射，经放大后还原为语音。
*   **商业化产品**：
    *   **Speak & Spell (德州仪器)**：早期利用语音芯片的儿童拼写玩具。

### 3. 语音识别的发展史 (History of Recognition)
*   **萌芽期**：
    *   **Radio Rex (1920s)**：一种玩具狗。
        *   **原理**：利用弹簧共振，当接收到约500Hz的声能（"Rex"中元音的共振峰）时，狗会弹出来。
        *   **局限**：并非真正的理解，而是特定频率的能量检测。
*   **早期探索 (1940s-1950s)**：
    *   **贝尔实验室**：识别孤立数字（0-9）。
    *   **特点**：特定人（Speaker Dependent）、必须停顿（Discrete）、词汇量极小（10个数字）。
*   **技术突破期 (1970s-1980s)**：
    *   引入了傅里叶变换、倒谱分析 (Cepstral analysis) 等信号处理技术。
    *   **ARPA (美国国防部高级研究计划局) 项目**：
        *   大力资助语音识别，推动了BBN, CMU (Hearsay, Harpy系统), SDC等机构的研究。
        *   目标：识别1000个单词，语义误差<10%。
*   **DARPA 评测推进 (1980s-90s)**：
    *   **Resource Management (RM)**：阅读语音，1000词。
    *   **Wall Street Journal (WSJ)**：朗读新闻，词汇量扩充至5000-60000词。
    *   **Broadcast News (Hub-4)**：识别广播/电视新闻（含背景噪、采访等复杂环境）。
    *   **Call Home / Switchboard**：自然电话对话识别（口语化、随意性强）。
    *   **ATIS (Air Travel Information System)**：航空出行问答系统，涉及语音识别+语义理解+对话管理。

---

## 三、 语音处理的关键理论与技术

### 1. 语言学与数学基础
*   **音位理论 (Phoneme)**：Baudouin de Courtenay 提出，语音的区别意义功能。
*   **生成音系学**：Chomsky & Halle 的规则系统。
*   **概率统计方法**：
    *   **贝叶斯公式 (Bayes' Theorem)**：将语音识别视为概率推理问题。
    *   **维特比算法 (Viterbi Algorithm)**：寻找最优路径（A.J. Viterbi）。
    *   **隐马尔可夫模型 (Hidden Markov Model, HMM)**：
        *   核心思想：语音是表面观察值，背后隐藏着状态序列（音素/单词）。
        *   Andrey Markov (马尔可夫) 提出的链式过程。
    *   **N-gram 模型 (N元语法)**：
        *   IBM 和 CMU (卡内基梅隆大学) 提出。
        *   利用前 $N$ 个词预测下一个词的概率。
        *   代表人物：Fred Jelinek (IBM Watson Research)，Baker (CMU, Dragon Systems)。

### 2. 语音的计算机表示方法 (Phonetic Notation)
为了在计算机中处理语音，特别是解决输入和显示问题，出现了三种主要标记体系：

*   **1. IPA (International Phonetic Alphabet, 国际音标)**
    *   **来源**：国际语音学会 (1888年)。
    *   **优点**：精确、国际标准。
    *   **缺点**：包含大量非ASCII字符（如倒e、长脚n等），在早期计算机和普通键盘上无法直接输入和显示，排版困难。
*   **2. ARPABET**
    *   **来源**：美国国防部高级研究计划局 (ARPA/DARPA)。
    *   **特点**：使用标准的 **ASCII 字符** (美国标准信息交换码) 来表示音素。
        *   例：`sh` -> `SH`, `ə` -> `AX`, `bird` -> `B ER D`.
    *   **优点**：键盘友好，易于编程和处理，便于数据交换。
    *   **老师经历**：老师在申请国家社科基金时使用ARPABET标注，结果被评审专家（传统语言学家）误判为“不懂国际音标”而扣分。这反映了传统语言学与计算语言学/工程界在标准认知上的差异。
*   **3. SAMPA (Speech Assessment Methods Phonetic Alphabet)**
    *   **来源**：欧洲的语音评估项目。
    *   **特点**：将IPA映射到ASCII码 (33-127范围)。
        *   例：使用 `@`, `3`, `Q` 等符号代表特定音标。
    *   **评价**：国内语言所等机构使用较多，但符号可读性较差（不如ARPABET直观），比较难记。

## 四、 课堂思考与观点
*   **语言学家的形象**：老师提到萧伯纳笔下的语言学家形象（疯疯癫癫的书呆子），呼吁现代语言学家应改变这种刻板印象，走出象牙塔，通过计算语言学为社会交际和人类造福。
*   **跨学科要求**：语音处理属于**信号处理**领域，对数学（概率论、统计过程）要求极高。本课程主要侧重讲解其背后的语言学原理，而非复杂的数学推导。
*   **学术评价的代沟**：通过社科基金申请的案例，指出了国内传统语言学界对计算语言学新标准（如ARPABET）缺乏了解的现状，建议学生为了发表国际论文，既要懂IPA，也要掌握ARPABET等计算机适用的标音法。


以下是根据课堂录音文稿（11-12）整理的计算语言学课程后续知识要点笔记：

# 计算语言学课程笔记（续）

## 六、 语音产生的生物学与进化基础

### 1. 言语链 (The Speech Chain)
*   **定义**：语言交际是一个闭环过程。
    *   **说话人 (Speaker)**：大脑产生意图 -> 神经传递 -> 发音器官动作 -> 产生声波。
    *   **传输**：声波在空气中传播。
    *   **听话人 (Listener)**：耳蜗接收 -> 神经传递 -> 大脑感知理解。
    *   **反馈 (Feedback)**：说话人同时也通过自己的耳朵听到声音，形成反馈回路。

### 2. 发音器官 (The Vocal Organs)
老师强调博士生应当掌握发音器官的**英文术语**，这常是考试内容：
*   **动力源**：Lungs (肺) -> Trachea (气管)。
*   **声源**：Larynx (喉头) -> **Vocal Folds / Vocal Cords (声带)**。
    *   声带中间的开合处叫 **Glottis (声门)**。
    *   **Voiced (浊音)**：声带闭合震动 (e.g., book 中的 b)。
    *   **Voiceless (清音)**：声带打开不震动 (e.g., p)。
*   **共鸣腔 (Resonators)**：
    *   Pharynx (咽腔)。
    *   **Oral Cavity (口腔)**：主要共鸣器。
    *   **Nasal Cavity (鼻腔)**：鼻音共鸣。
*   **调音部位**：Lips (唇), Tongue (舌, 分舌尖、舌面、舌根等), Teeth (齿), Palate (腭 - 硬腭 Hard Palate / 软腭 Soft Palate/Velum)。

### 3. 人类语言能力的进化
*   **时间线**：
    *   人类出现：约500万年前。
    *   简单发声：约300万年前（此时发音器官简单，气管平滑，类似动物）。
    *   **分节语 (Articulated Speech)**：约30万年前。
*   **进化意义**：人类经过漫长的进化，口腔结构变得极其精细复杂，才能发出复杂的语音。
*   **观点反驳**：老师驳斥“文字第一性，语言第二性”的观点。语言（口语）已有数百万年历史，而文字（如汉字）仅几千年历史，语言是基础。

## 七、 语音学分类基础 (Phonetics)

### 1. 辅音 (Consonants)
辅音的特征在于气流受到某种程度的**阻碍**。分类标准主要有两个：

*   **发音部位 (Place of Articulation)**：
    *   **Bilabial (双唇音)**: b, p, m
    *   **Labiodental (唇齿音)**: f, v
    *   **Dental (齿音)**: th (θ, ð)
    *   **Alveolar (齿龈音)**: t, d, s, z, n, l
    *   **Palatal (硬腭音)**: sh, ch
    *   **Velar (软腭音)**: k, g, ng
    *   **Glottal (喉音)**: h
*   **发音方法 (Manner of Articulation)**：
    *   **Stop (塞音/爆破音)**: 气流完全阻断后爆发 (p, b, t, d, k, g)。
    *   **Fricative (擦音)**: 气流通过狭缝摩擦 (f, s, sh)。
    *   **Affricate (塞擦音)**: 先塞后擦 (ch, j)。
    *   **Nasal (鼻音)**: 气流从鼻腔流出 (m, n, ng)。
    *   **Approximant (近音/半元音)**: 接近元音 (w, y/j)。
    *   **Lateral (边音)**: 气流从舌头两侧流出 (l)。
    *   **Tap/Flap (闪音)**: 舌尖快速接触 (e.g., 美式英语 butter 中的 tt, 记作 DX)。

### 2. 元音 (Vowels)
元音的特征是气流在口腔和鼻腔中**没有受到阻碍**。控制元音音质的三个因素：
1.  **舌位高低 (Tongue Height)**：High (高), Mid (中), Low (低)。
2.  **舌位前后 (Tongue Backness)**：Front (前), Central (央), Back (后)。
3.  **唇形 (Lip Rounding)**：Rounded (圆唇), Unrounded (不圆唇)。

*   **元音舌位图 (Vowel Chart)**：
    *   /i/：前、高、不圆唇。
    *   /u/：后、高、圆唇。
    *   /a/：低、后（或央）。
    *   **复合元音 (Diphthongs)**：用箭头在舌位图上表示滑动的过程 (e.g., /ai/, /au/)。

### 3. 汉语语音特点
*   **声母 (Initials)**：对应辅音，按发音部位分类（双唇、唇齿、舌尖前/中/后、舌面、舌根）。
*   **韵母 (Finals)**：对应元音及韵尾。
    *   **四呼**：开口呼 (a, o, e)、齐齿呼 (i)、合口呼 (u)、撮口呼 (ü)。
*   **配合规律**：声母和韵母不是随意组合的，有严格的配合规则（有的能拼，有的不能拼）。

## 八、 音系学与语音描述 (Phonology)

### 1. 音位与音位变体
*   **音位 (Phoneme)**：具有**区分意义**功能的最小语音单位。
    *   例如：英语中 *tar* 和 *star* 的 /t/ 被视为同一个音位。
*   **音位变体 (Allophone)**：同一个音位在不同环境中表现出的不同物理发音，**不区分意义**（互补分布）。
    *   例如：/t/ 在词首 (top) 是送气音 (Aspirated, $[t^h]$)，在 s 后 (stop) 是不送气音 (Unaspirated, $[t]$)。
    *   **理论来源**：布拉格学派 (Prague School, Trubetzkoy)。

### 2. 音标系统
*   **宽式音标 (Broad Transcription)**：记录音位，使用斜杠 `/ /`。
*   **严式音标 (Narrow Transcription)**：记录实际发音细节（音位变体），使用方括号 `[ ]`。
    *   **附加符号 (Diacritics)**：用于标记细节，如送气 ($^h$)、鼻化 ($\sim$)、音节化 ($_,$)、齿音化 ($\sqsubset$) 等。

### 3. 音系规则描述
*   **Chomsky & Halle (SPE, 1968)** 提出的重写规则标准格式：
    *   `A -> B / X__Y`
    *   意义：在 X 出现前、Y 出现后的环境中，A 变为 B。
*   **案例**：英语中的 Flapping (闪音化)
    *   /t/ -> [ɾ] (DX) / V__V (accented)
    *   解释：当 /t/ 夹在两个元音之间，且第一个元音重读时，/t/ 变成闪音 (如 *writer*, *butter*)。

## 九、 音节与韵律 (Syllables & Prosody)

### 1. 音节结构
*   **Onset (首)**：音节开头的辅音（群）。
*   **Nucleus (核)**：通常是元音。
*   **Coda (尾)**：音节末尾的辅音。
*   **术语记忆**：老师强调 *Onset* 和 *Coda* 是常用术语。
*   **音节切分 (Syllabification)**：存在争议，例如 *higher* 是单音节还是双音节（取决于是否将 -er 视为独立音节）。

### 2. 韵律特征
*   **重音 (Stress/Accent)**：
    *   **词重音**：位置不同可区分词性或意义（如 *object* 名词在前，动词在后）。
*   **声调 (Tone)**：汉语的特征。

## 十、 语音的声学物理基础 (Acoustic Physics)

### 1. 物理属性
*   **波形 (Waveform)**：
    *   横轴：时间 (Time)。
    *   纵轴：振幅 (Amplitude, 空气压力相对于标准大气压的变化)。
*   **正弦波 (Sine Wave)**：最简单的周期波。
    *   公式：$y = A \cdot \sin(2\pi ft)$
    *   **A (Amplitude)**：振幅，对应能量/响度。
    *   **f (Frequency)**：频率 (Hz)，每秒震动的次数。
    *   **T (Period)**：周期，完成一次震动的时间 ($T = 1/f$)。
*   **真实语音**：不是单纯的正弦波，而是复杂的**准周期波**。

### 2. 信号处理基础
*   **A/D 转换 (模拟到数字)**：
    1.  **Sampling (抽样)**：在时间轴上离散化。
    2.  **Quantization (量化)**：在振幅轴上离散化。
*   **文件格式**：如 Microsoft WAV (RIFF格式)，包含文件头（采样率、声道等信息）和数据体。

### 3. 感知 vs 物理 (Perception vs Physics)
*   **对应关系**：
    *   物理量：频率 (Frequency) <--> 感知量：**音高 (Pitch)**。
    *   物理量：振幅 (Amplitude) <--> 感知量：**响度 (Loudness)**。
*   **非线性关系**：
    *   人耳听力范围：约 16Hz - 20,000Hz (20kHz)。
    *   频率与音高、振幅与响度之间**不是**简单的线性关系（Linear），而是复杂的**对数关系** (Logarithmic)。频率越高，人耳对音高变化的感知越不敏感。

以下是根据课堂录音文稿（第13-14部分）整理的计算语言学课程知识要点笔记。

**注意**：录音文稿中存在大量语音识别错误（如将“振幅”识别为“政府”，将“频谱”识别为“贫困/平复”，将“傅里叶”识别为“福利/妇女”，将“共振峰”识别为“公证/共产钴”等）。本笔记已根据上下文逻辑修正为正确的专业术语。

# 计算语言学课程笔记（续）

## 五、 语音的声学物理描述 (Acoustic Description of Speech)

老师从物理学角度详细讲解了声音的三个主要属性及其描述方法。

### 1. 振幅与强度 (Amplitude & Intensity)
*   **定义**：声波在垂直方向的震动幅度，对应人耳听到的响度（Loudness）。
*   **波形特征**：
    *   **清音/擦音 (如 /th/ in "three")**：振幅很小。
    *   **元音 (如 /i/, /o/)**：振幅很大，能量集中。
    *   **基音轨迹 (Pitch Track)**：用于描述震动主要部分的终极线。
*   **计算方法**：
    *   不能简单叠加（因为波形有正负，直接相加会抵消趋近于0）。
    *   **均方根振幅 (Root Mean Square, RMS)**：
        1.  将每个点的振幅平方（Square）。
        2.  求平均值（Mean）。
        3.  开平方根（Root）。
    *   **强度 (Intensity)**：与振幅的平方成正比。
*   **听觉阈限**：
    *   人类听觉范围：20Hz - 20,000Hz (文中提及16Hz-2万Hz)。
    *   参考压强：$2 \times 10^{-5}$ Pascals (帕斯卡)。
    *   分贝（dB）计算涉及对数关系。

### 2. 频率与音高 (Frequency & Pitch)
*   **区别**：
    *   **频率 (Frequency)**：物理量，单位为赫兹 (Hz)。
    *   **音高 (Pitch)**：心理感知量，人耳对频率高低的感受。
*   **Mel 标度 (Mel Scale)**：
    *   用于度量音高。
    *   **定义**：如果人耳感觉到音高距离相等，则 Mel 数值的差值相等。
    *   **关系**：频率与 Mel 值不是线性关系。频率越高，Mel 值增加越慢（对数关系）。
    *   **转换公式**（经验公式）：涉及 $log(1 + f/700)$ 等计算。

### 3. 语音的三种图形表示 (Visual Representations)

老师重点介绍了三种描述语音的图谱，并强调了它们之间的转换关系（特别是傅里叶变换）。

#### (1) 波形图 (Waveform)
*   **坐标**：横轴 = 时间 (Time)，纵轴 = 振幅 (Amplitude)。
*   **特点**：
    *   直观显示声音随时间的变化。
    *   可以看出元音振幅大，辅音（如爆破音、擦音）振幅小或有静默段（Silence）。
    *   **案例分析**："She just has a baby"
        *   /sh/ (she)：擦音，波形密集但振幅适中。
        *   /t/ (just)：闭塞阶段无波形，随后有爆发。
        *   /a/ (baby)：元音，振幅大，波形周期性明显。
*   **局限**：难以直接看出频率成分。

#### (2) 声谱图 (Spectrum) - 文稿中称为“生谱”
*   **原理**：基于**傅里叶分析 (Fourier Analysis)**。任何复杂的波形都可以分解为若干个不同频率、不同振幅的正弦波 (Sine Waves) 的叠加。
*   **坐标**：横轴 = 频率 (Frequency)，纵轴 = 振幅 (Amplitude)。
*   **特点**：
    *   描述某一**特定时刻**的频率成分。
    *   显示基频和泛音（Harmonics）。
    *   **缺点**：无法展示时间维度的变化（它是静态切片）。

#### (3) 语谱图/频谱图 (Spectrogram) - 老师认为最好的表达方式
*   **坐标**：横轴 = 时间 (Time)，纵轴 = 频率 (Frequency)。
*   **表示方法**：颜色的深浅（或黑白图中的黑度）代表**振幅 (Amplitude)**。
    *   **黑线/深色区域**：代表能量集中的频率区间，即**共振峰 (Formants)**。
*   **优势**：同时包含了时间、频率、振幅三个维度的信息。
*   **案例分析**：
    *   元音 /i/：第一共振峰 (F1) 低，第二共振峰 (F2) 高，两者距离远。
    *   元音 /a/：F1 和 F2 距离较近。
    *   元音 /u/ (或 r 音)：F2 和 F3 降低。
    *   **中文案例**：“邓小平是全党...”的波形与语谱图对应关系，清晰显示了元音的共振峰和辅音的特征。

## 六、 声源-滤波器模型 (Source-Filter Model)

*   **原理**：语音的产生可以看作是声源（声带震动）经过滤波器（声道）的结果。
*   **声道 (Vocal Tract) = 滤波器 (Filter)**：
    *   口腔和鼻腔的形状变化决定了滤波器的特性。
    *   不同的口型（Filter形状）产生不同的共振峰模式，从而发出不同的音。
*   **对应关系**：
    *   **口型**（发音语音学）：如 /i/ 是前高元音，/a/ 是央低元音，/u/ 是后元音。
    *   **频谱**（声学语音学）：不同的口型直接对应语谱图上 F1、F2 等共振峰的不同位置分布。
    *   **结论**：物理学描述（频谱）与语音学描述（口型）存在严格的数学对应关系。

## 七、 语音合成 (Speech Synthesis / TTS)

*   **目标**：Text to Speech (TTS)，将文本转化为语音波形。
*   **基本流程**：
    1.  **文本分析 (Text Analysis)**：将原始文本转化为适合发音的归一化文本。
    2.  **波形合成 (Waveform Synthesis)**：根据分析结果生成声音（后续课程讲解）。

### 文本分析 (Text Analysis) 的挑战与处理
*   **非标准词处理 (Text Normalization)**：
    *   **符号转换**：如 "PG&E" 中的 "&" 需要读作 "and"。
    *   **数字转换**：如 "April 20" 中的 "20" 不是读 "two zero"，而是读 "twenty"（基数词转序数词的概念）。
    *   **缩写扩展**：如 "St." 在 "St. John" 读 Saint，在 "Main St." 读 Street。
*   **案例演示**：
    *   输入文本：`The PG&E ... on April 20.`
    *   处理后文本（音素化/词汇化前奏）：`The P G and E ... on April twenty.`
*   **后续步骤**：
    *   确定每个词的发音（查词典或规则）。
    *   确定重音（Stress）：如 "April" 重音在第一个音节，"twenty" 在第一个音节。
    *   韵律控制（Prosody）：句尾语调下降等。

以下是根据课堂录音文稿（第十五、十六讲）整理的计算语言学课程知识要点笔记：

# 计算语言学课程笔记（第十五、十六讲）

## 一、 语音合成（Speech Synthesis / TTS）的总体架构

### 1. 核心模型：沙漏模型 (Hourglass Metaphor)
*   **提出者**：Paul Taylor (2008)。
*   **结构**：将文本到语音（Text-to-Speech, TTS）系统形象地比喻为沙漏，中间有一个最窄的瓶颈（Bottleneck）。
    *   **上半部分（Text Analysis 文本分析）**：
        *   输入：自然文本（Text）。
        *   过程：文本规整化 -> 语音分析 -> 韵律分析。
        *   输出：语音学表示（Linguistic/Phonetic Representation），即“沙漏”的腰部。
    *   **下半部分（Waveform Synthesis 波形合成）**：
        *   输入：语音学表示。
        *   过程：单位选择（Unit Selection）-> 波形生成。
        *   输出：语音波形（Waveform）。

### 2. 文本分析的主要任务
从自然文本到语音表示的过程是“由大变小，由繁变简”的过程，主要包含以下步骤：
1.  **文本规整化 (Text Normalization)**：将形形色色的自然文本转换为标准的、可处理的格式。
2.  **语音分析 (Phonetic Analysis)**：解决字母与音素的对应关系（Grapheme-to-Phoneme）。
3.  **韵律分析 (Prosodic Analysis)**：处理重音（Stress）、语调（Intonation）、停顿等。

---

## 二、 文本规整化 (Text Normalization)

文本规整化是TTS的第一步，目标是将包含缩写、数字、符号的文本还原为可读的单词序列。

### 1. 难点案例
*   **缩写与标点的歧义**：
    *   例如："B.C.", "incred. ltd."。
    *   **句点歧义**：点号（`.`）既可能是句末标点（Full stop），也可能是缩写符号（Abbreviation marker），还可能是小数点。
*   **非标准词的读法**：
    *   "$1 billion" -> 读作 "one billion dollars"（语序调整）。
    *   "March 31" -> 读作 "March thirty-first"（基数词转序数词，不能读作 three one）。

### 2. 关键任务一：句子切分与标点消歧 (Sentence Tokenization)
如何判断一个点号（`.`）是否表示句子结束？

*   **特征工程 (Feature Engineering)**：
    *   **前缀 (Prefix)**：点号前的词是什么？
    *   **后缀 (Suffix)**：点号后的词是什么？
    *   **大小写 (Case)**：点号后的词是否首字母大写？（大写可能意味着新句子，也可能是专有名词）。
    *   **缩写词判断**：前词是否在缩写词表中（如 `Dr.`, `Mr.`, `Co.`）。
    *   **特殊实体判断**：是否属于数字、网址、公司名的一部分。
*   **决策树方法 (Decision Tree)**：
    *   构建决策树，根据概率值（Probability）判断。
    *   例如：如果点号处于句子开头的概率极低，且其后的词是小写，则该点号大概率不是句末标点。

### 3. 关键任务二：非标准词处理 (Non-Standard Words, NSW)
*   **定义**：在普通词典中查不到的词，如数字、日期、货币、缩写等。
*   **分类**：
    *   **字母类 (Alphabet)**：缩写词（Abbreviation）、首字母缩略词（Acronym）。
    *   **数字类 (Numeric)**：年份（1998 -> nineteen ninety-eight）、序数词、基数词、电话号码。
*   **处理方法**：
    *   使用**正则表达式 (Regular Expressions)** 进行识别和分类。
    *   进行**扩充 (Expansion)**：将符号转换为对应的单词序列（如 `NY` -> `New York`）。

---

## 三、 语音信号的物理与数学表示 (复习与总结)

老师对上一章节的语音物理基础进行了总结，强调了三种表达方式及其内在联系。

### 1. 三种波形表达方式
1.  **波形图 (Waveform)**
    *   **坐标**：横轴-时间，纵轴-振幅。
    *   **特点**：直观，易于录制，但难以进行数学分析。
2.  **声谱/频谱 (Spectrum)**
    *   **坐标**：横轴-频率 (Frequency)，纵轴-振幅 (Amplitude)。
    *   **转换方法**：**傅里叶变换 (Fourier Transform / DFT)**。将时域信号转换为频域信号。
    *   **物理意义**：展示了某一时刻声音的频率成分。
    *   **共振峰 (Formant, F1, F2...)**：频谱图中能量最强的峰值，决定了音色（特别是元音的区分）。
        *   *案例*：元音 /a/ 的基频及其倍频（谐波）构成了共振峰。
3.  **语谱图 (Spectrogram)** —— "声纹"
    *   **坐标**：横轴-时间，纵轴-频率，颜色深浅/黑白-振幅（能量）。
    *   **特点**：三维信息的二维表达（类似地形图）。
        *   黑色的横条纹代表**共振峰**。
        *   条纹的位置和走向反映了发音器官的变化。
    *   **理解技巧**：可以将其看作是将一系列频谱图（Spectrum）旋转90度后按时间顺序排列而成的“山脉俯视图”。

### 2. 发音机制：声源-滤波器理论 (Source-Filter Theory)
*   **声源 (Source)**：声带振动产生基频。
*   **滤波器 (Filter)**：口腔、鼻腔、咽喉（声道）的形状。
    *   不同的发音部位（唇、齿、舌）和发音方法（爆破、摩擦）改变声道的形状，相当于不同的滤波器，从而形成不同的共振峰模式。

### 3. 人类语言能力的进化 (拓展知识)
*   **500万年前**：最早人类出现，能制造工具，但只能发简单声音。
*   **300万年前**：开始能发出稍复杂的双门辅音。
*   **30万年前**：人类口腔结构进化完成（舌位、喉头下降等），具备了**分节语音 (Articulated Language)** 的能力。这是长期进化的结果，使人类区别于动物。

---

## 四、 同形异音词处理 (Homograph Disambiguation)

在文本转语音（Text-to-Speech）中，完成文本规整化后，通过词典查找发音时会遇到“同形异音”问题。

*   **定义**：拼写相同（Homograph），但读音和意义不同的词。
*   **案例分析**：
    > *"It is no **use** to ask to **use** the telephone."*
    *   第一个 **use**：
        *   词性：名词 (Noun)。
        *   发音：/jus/ (结尾是清辅音 s)。
    *   第二个 **use**：
        *   词性：动词 (Verb)。
        *   发音：/juz/ (结尾是浊辅音 z)。
*   **解决方案**：必须进行**词性标注 (Part-of-Speech Tagging)**。只有确定了词性（是名词还是动词），才能在发音词典中选取正确的音素序列。

---

## 五、 其他提到的计算语言学技术概览
老师在第十六讲开头快速列举了计算语言学涉及的关键技术领域，作为后续课程的铺垫：
*   **POS Tagging**：词类标注。
*   **Parsing**：句法分析。
*   **NLG (Natural Language Generation)**：自然语言生成。
*   **Speech Recognition**：语音识别。
*   **Finite State Technology**：有限状态技术。
*   **Machine Learning**：机器学习。
*   **Ontology**：本体论/知识库。
*   **Tree-Adjoining Grammar (TAG)**：树邻接语法。


这是根据课堂录音文稿（第17-18部分）整理的计算语言学课程知识要点笔记。

# 计算语言学课程笔记（续）

## 五、 同形异音词排歧 (Homograph Disambiguation)
在语音合成或文本分析中，处理同形异音词（Homographs）是一个核心难点。即拼写相同但发音和意义不同的词。

### 1. 典型案例
*   **Live**:
    *   /liv/ (动词): *Do you **live** near a zoo?*
    *   /laiv/ (形容词): *...with **live** animals?*
*   **Bass**:
    *   /bæs/ (名词): 鲈鱼 (*fishing*).
    *   /beis/ (名词): 低音乐器 (*play the bass*).
*   **Use**:
    *   /ju:s/ (名词): 尾音为清辅音 /s/。
    *   /ju:z/ (动词): 尾音为浊辅音 /z/。
*   **Close**:
    *   /kləus/ (形容词): *close to* (靠近/紧挨).
    *   /kləuz/ (动词): *close the door* (关).
*   **House**:
    *   /haus/ (名词): 房子。
    *   /hauz/ (动词): *to house a lot of people* (给...提供住所).
*   **其他语言案例**:
    *   法语/英语中的 **EST**: 表示“是”的时候读音不同，表示“东方”的时候读音也不同（注：此处录音原文较模糊，意指多义词在不同语境下读音差异）。

### 2. 排歧方法
*   **基于词类（Part of Speech, POS）**:
    *   利用词性标注来判断发音。很多同形异音词遵循“名词/形容词读清音，动词读浊音”的规律（如 *use, close, house*）。
    *   **Liberman & Church** 的研究表明，在4400万词的语料库中，利用词类信息可以解决最高频的同形异音词问题。
*   **基于重音位置 (Stress Shift)**:
    *   **规则**：双音节词中，**名词重音通常在前**，**动词重音通常在后**。
    *   **案例**:
        *   `Record`: /'rekɔ:d/ (名词, 唱片/记录) vs /ri'kɔ:d/ (动词, 记录).
        *   `Insult`: /'insʌlt/ (名词) vs /in'sʌlt/ (动词, 侮辱/请教).
        *   `Object`: /'ɒbdʒikt/ (名词, 物体/目标) vs /əb'dʒekt/ (动词, 反对).
    *   **后缀 -ate**:
        *   读 /ət/ (弱化音): 名词/形容词 (e.g., *graduate student*).
        *   读 /eit/ (元音): 动词 (e.g., *graduate*).

### 3. 难以解决的问题
目前的词类标注无法解决同一词类下的发音区别：
*   **同为名词**: `Bass` (鱼) vs `Bass` (乐器)。
*   **同为名词**: `Lead` (金属铅) vs `Lead` (牵引/绳索)。
*   **缩写歧义**: `Dr.` (Doctor 医生 vs Drive 大道); `St.` (Saint 圣徒 vs Street 街道)。
*   **大小写歧义**: `Polish` (波兰的) vs `polish` (磨光)。

---

## 六、 语音合成与资源建设 (Speech Synthesis & Resources)
语音合成（TTS）不仅仅是文本归一化，还需要进行韵律分析（Prosodic Analysis）和字音转换。这高度依赖于**词典**和**语料库**资源。

### 1. 发音词典 (Pronunciation Dictionary)
发音词典是语音合成系统的核心，用于查找单词的标准读音。
*   **现状**:
    *   牛津高阶词典 (OALD) 收录约39,000词。
    *   **未登录词 (OOV) 问题**: 词典查不到的词中，**专有名词**（人名、地名、机构名）占绝大多数（约76%-80%），新词占约20%。
*   **主流发音词典**:
    1.  **SelecT (1995)**: 采用基于ASCII的音标符号，标注了音节结构（CVC结构）和词法结构。
    2.  **CMU Dictionary (Carnegie Mellon University)**:
        *   收录约125,000词。
        *   使用 **ARPABET** 音标系统（易于计算机处理的ASCII码，如 `AA`, `IY`）。
        *   标注了重音级别（0=无重音, 1=主重音, 2=次重音）。
        *   **特点**: 免费开源，应用最广泛，适合做基线系统。
    3.  **PRONLEX (LDC)**: 语言数据联盟发布，覆盖华尔街日报等语料，包含90,000+词，专有名词收录较多（20,000+）。
    4.  **UNISYN (University of Edinburgh)**: 收录11万词，支持多种英语口音生成的元词典。

### 2. 语音语料库 (Speech Corpora)
当词典无法覆盖时，或为了训练统计模型，需要使用标注好的语音语料库。
*   **TIMIT (NIST)**:
    *   **性质**: 朗读语料（Read speech）。
    *   **规模**: 630个发音人 × 10句 = 6300句。
    *   **特点**: 针对音素平衡设计，标注极其细致（包括爆破音的闭塞段 `dcl`, `tcl` 等）。
*   **Switchboard**:
    *   **性质**: 电话对话语料（Conversational speech）。
    *   **特点**: 包含大量口语现象，如吞音、弱化、连读。
        *   例: *kind of* -> /kinda/, *want to* -> /wanna/.
        *   例: *right now* -> /rait nau/ 中的 /t/ 可能消失。
*   **BU Radio News Corpus (Boston University)**:
    *   **性质**: 广播新闻语料。
    *   **特点**: 40位播音员，发音规范，适合研究韵律（Prosody）。
*   **其他语言**:
    *   德语: Kiel Corpus.
    *   汉语: 社科院语言所（CASS）制作的普通话转写语料库。

### 3. 分析工具
*   **Praat**: 语音学标准软件。
    *   功能：显示波形图（Waveform）、语谱图（Spectrogram）、提取基频（Pitch）、标注语音。
    *   建议学生掌握从波形看频谱的基本功。

---

## 七、 专有名词发音处理 (Named Entity Pronunciation)
专有名词（Named Entities, NE）是发音词典覆盖率最低的部分。
*   **难点**:
    *   **中文**: 多音字在姓氏中的特殊读音。
        *   `单`: 读 Shàn (姓) vs Dān.
        *   `贾`: 读 Jiǎ.
        *   `仇`: 读 Qiú (姓) vs Chóu.
    *   **英文**: 数量庞大。Church & Liberman 统计显示，即使词典包含5万个名字，在4400万词的语料中也只能覆盖70%的人名地名。
*   **处理策略**:
    *   **类推法 (Analogy)**: 利用已知词发音推导未知词。
        *   例: 已知 `Lucas`，推导 `Mucas`。
        *   例: 利用 `Waters` 的重音模式推导类似结构。
    *   **形态学分析**:
        *   例: `Trofsky` (基准) -> 遇到 `Potrofsky` 时，识别出前缀/变体，推导出类似发音。
    *   **目前方案**: 即使有大型人名库（如CMU含5000姓氏+6000名字），仍需结合规则和统计方法处理长尾数据。

---

## 八、 字音转换 (Grapheme-to-Phoneme, G2P)
当词典和语料库都无法找到单词时，需要通过算法将字母（Grapheme）转换为音素（Phoneme）。

### 1. 规则方法 (Rule-based)
*   **Chomsky-Halle 风格规则**:
    *   形式: `A -> B / C _ D` (在环境 C_D 下，A 读作 B)。
    *   例: `C -> k` (通常情况); `C -> s` (当后面跟 i, e, y 时)。
    *   **复杂规则示例**: 涉及音节结构、重音位置的上下文规则。如：某元音若后接弱读音节+短音，则读长音/重音等。

### 2. 统计/数据驱动方法 (Data-driven)
*   **原理**: 计算字母与音素对应的概率 $P(Phoneme|Letter)$。
*   **对齐 (Alignment)**:
    *   将单词的字母序列与音素序列对齐。
    *   例 `cake`:
        *   `c` -> /k/
        *   `a` -> /ei/
        *   `k` -> /k/
        *   `e` -> /-/ (不发音/Silent)
    *   通过统计大量对齐数据，找出概率最高的发音路径。

### 3. 观点
*   计算语言学不能脱离语言学基础。
*   虽然统计方法流行，但像重音规则、形态学规则等语言学知识对于解决长尾问题（如生僻词、专有名词）至关重要。

这是根据您提供的文件19和20整理的课堂笔记续篇。

# 计算语言学课程笔记（续）

## 五、 语音合成中的关键技术问题（续）

### 1. 字位到音位的转换 (Grapheme-to-Phoneme, G2P)
在将文本转换为语音时，首先要确定字母或字符的正确读音。
*   **计算方法**：
    *   **统计概率**：计算某个字母对应某个音的概率。
    *   **窗口上下文 (Context Window)**：判断一个字母（如 `s`）的读音时，不仅要看它本身，还要看：
        *   **前三个字母** ($N-1, N-2, N-3$)。
        *   **后三个字母** ($N+1, N+2, N+3$)。
        *   **前序字母读音的概率**：例如前面的字母 $F$ 或 $R$ 读特定音的概率。
    *   综合这些因素，使用 Viterbi 算法等计算出最优的读音序列。
*   **连音变读 (Liaison / Sandhi)**：
    *   单词的读音会受相邻单词影响。
    *   **案例 (法语)**：单词 "six" (六) 在 "six examples" (元音前)、"six enfants" 和 "Sophia Loren" (辅音前) 中的读音完全不同。

### 2. 韵律学 (Prosody) / 超音段特征 (Suprasegmental Features)
单词读音正确并不代表合成语音自然，必须处理韵律问题（重音、语调、节奏）。

#### A. 凸显度 (Prominence) - 重音
*   **词内重音**：不同单词重音位置不同。
*   **复合词重音**：
    *   *Apple cake*（重音在 Apple）。
    *   *Apple pie*（重音在 Pie）。
*   **短语/句法重音位移**：
    *   单独读：*City Hall* (Hall重音), *Parking Lot* (Parking重音)。
    *   组合读：*City Hall Parking Lot* (变成了 City Hall，重音前移，节奏改变)。
*   **焦点重音 (Focus)**：
    *   句子 *"Vegetables are a good source of vitamins"*。
    *   强调 *"Vegetables"*：回答“什么东西是好来源？”
    *   强调 *"Vitamins"*：回答“蔬菜是什么的好来源？”

#### B. 结构与节奏 (Structure & Phrasing)
通过停顿和节奏来消除歧义。
*   **案例1**：*I met Mary and Elena's mother at the mall yesterday.*
    *   读法一：遇到 Mary，并且遇到了 Elena的妈妈。（两件事）
    *   读法二：遇到了 Mary的妈妈 和 Elena的妈妈（或者 Mary和Elena两人的妈妈）。
*   **案例2**：*French bread and cheese.*
    *   (French bread) and cheese：法式面包 + 芝士。
    *   French (bread and cheese)：法式的（面包和芝士）。

#### C. 语调 (Intonation/Tune)
*   语调表达情感和句式（陈述、疑问、命令）。
*   **ToBI 系统**：国际通用的声调标注系统（如 H*, L*, L+H 等符号）。
    *   *Already?*（惊讶 vs 愤怒，语调不同）。

### 3. 中文语音合成的特殊挑战
中文合成涉及大量语言学规范问题，不仅仅是技术问题。

#### A. 文本规划与分词
*   中文没有空格，必须先进行**分词 (Word Segmentation)**，否则节奏不对。
*   需遵循国家标准（如《汉语拼音正词法基本规则》、GB13721）。

#### B. 多音字 (Polyphones) 与特殊读音
*   **词性/语义决定读音**：
    *   “参加” (can) vs “参差” (cen)。
    *   “曾老” (zeng) vs “曾经” (ceng)。
*   **数字读法的复杂性**：
    *   **位制读法 vs 顺序读法**：
        *   *14,000*：中文读“一万四千”（位制），英文是 fourteen thousand。
        *   *Room 14000*：可能读“一四零零零”（顺序）。
    *   **日期与时间**：
        *   *4000年前* -> “四千年前”。
        *   *公元前2000年* -> “二零零零年”（顺序读法）。
        *   *9:35* -> 读作“九点三十五分”，不能读“九冒号三十五”。
    *   **分数与百分比**：
        *   *1/2* -> 读“二分之一”，不能读“一斜杠二”。
        *   *80.2%* -> 读“百分之八十点二”，百分号要前置读出。
    *   **范围**：
        *   *5-8天* -> 读“五至八天”。

#### C. 符号与单位 (Symbols & Units)
*   **案例**：
    *   *KFC* -> 按字母读。
    *   *20M* -> 读“二十米” (context dependent)。
    *   *20KM* -> 读“二十公里”。
    *   *60KG级* -> 读“六十公斤级”。
    *   *340m/s* -> 读“三百四十米每秒”。
    *   物理单位 *J/(kg·K)* -> 需按国际标准读法。
    *   希腊字母：$\alpha$ 粒子 -> 读 alpha。

#### D. 变调 (Tone Sandhi)
*   **“一”和“不”的变调**：
    *   在去声（4声）前变阳平（2声）：*一半* (yí bàn), *不但* (bú dàn)。
    *   在非去声前变去声（4声）：*一天* (yì tiān), *不吃* (bù chī)。
*   **上声（3声）变调**：
    *   两个上声相连：33 -> 23 (*本领* ben ling -> bén ling)。
*   **轻声 (Neutral Tone)**：
    *   重叠词：*看看* (kàn kan)。
    *   词缀：*桌子* (zhuō zi)。
*   **儿化音 (Erhua)**：
    *   区分语义：*盖* (动词) vs *盖儿* (名词)。
    *   *小孩儿* (情感色彩)。
    *   例外：*孤儿*、*混血儿*（不儿化）。

## 六、 语音识别 (Speech Recognition) 与 基础知识回顾
*   **语音识别**：从声音 (Waveform) 到 文本 (Text)。过程比合成更复杂，涉及大量数学，课程中略过。
*   **必须掌握的基础**：
    *   **波形图 (Waveform)**、**声谱图 (Spectrogram)**、**频谱图 (Spectrum)** 三者之间的对应关系。
*   **评测标准**：老师提到参与制定了教育部关于语音合成系统的评测标准。

---
